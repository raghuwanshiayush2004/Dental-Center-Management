{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\OneDrive\\\\Desktop\\\\Dental Center Management\\\\src\\\\components\\\\Appointments\\\\FileUpload.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { useData } from '../../context/DataContext';\nimport { Button, Box, Typography, List, ListItem, ListItemText, IconButton } from '@mui/material';\nimport { Delete, AttachFile } from '@mui/icons-material';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst FileUpload = ({\n  appointmentId\n}) => {\n  _s();\n  const {\n    files,\n    addFile,\n    deleteFile\n  } = useData();\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const appointmentFiles = files.filter(f => f.appointmentId === appointmentId);\n  const handleFileChange = e => {\n    setSelectedFiles([...e.target.files]);\n  };\n  const handleUpload = () => {\n    selectedFiles.forEach(file => {\n      const reader = new FileReader();\n      reader.onload = e => {\n        addFile(appointmentId, {\n          id: `f${Date.now()}`,\n          name: file.name,\n          url: e.target.result,\n          type: file.type\n        });\n      };\n      reader.readAsDataURL(file);\n    });\n    setSelectedFiles([]);\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    mt: 3,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      gutterBottom: true,\n      children: \"Attached Files\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), appointmentFiles.length > 0 ? /*#__PURE__*/_jsxDEV(List, {\n      children: appointmentFiles.map(file => /*#__PURE__*/_jsxDEV(ListItem, {\n        secondaryAction: /*#__PURE__*/_jsxDEV(IconButton, {\n          edge: \"end\",\n          onClick: () => deleteFile(file.id),\n          children: /*#__PURE__*/_jsxDEV(Delete, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 17\n        }, this),\n        children: /*#__PURE__*/_jsxDEV(ListItemText, {\n          primary: file.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 15\n        }, this)\n      }, file.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body2\",\n      children: \"No files attached\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      mt: 2,\n      display: \"flex\",\n      alignItems: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        component: \"label\",\n        startIcon: /*#__PURE__*/_jsxDEV(AttachFile, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 22\n        }, this),\n        sx: {\n          mr: 2\n        },\n        children: [\"Select Files\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          hidden: true,\n          multiple: true,\n          onChange: handleFileChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), selectedFiles.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          sx: {\n            mr: 2\n          },\n          children: [selectedFiles.length, \" file(s) selected\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          onClick: handleUpload,\n          children: \"Upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n};\n_s(FileUpload, \"XvxH/I/GV3VKkoiez0mlxYVdsHY=\", false, function () {\n  return [useData];\n});\n_c = FileUpload;\nexport default FileUpload;\nvar _c;\n$RefreshReg$(_c, \"FileUpload\");","map":{"version":3,"names":["useState","useData","Button","Box","Typography","List","ListItem","ListItemText","IconButton","Delete","AttachFile","jsxDEV","_jsxDEV","Fragment","_Fragment","FileUpload","appointmentId","_s","files","addFile","deleteFile","selectedFiles","setSelectedFiles","appointmentFiles","filter","f","handleFileChange","e","target","handleUpload","forEach","file","reader","FileReader","onload","id","Date","now","name","url","result","type","readAsDataURL","mt","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","length","map","secondaryAction","edge","onClick","primary","display","alignItems","component","startIcon","sx","mr","hidden","multiple","onChange","_c","$RefreshReg$"],"sources":["C:/Users/Dell/OneDrive/Desktop/Dental Center Management/src/components/Appointments/FileUpload.jsx"],"sourcesContent":["import { useState } from 'react';\r\nimport { useData } from '../../context/DataContext';\r\nimport { Button, Box, Typography, List, ListItem, ListItemText, IconButton } from '@mui/material';\r\nimport { Delete, AttachFile } from '@mui/icons-material';\r\n\r\nconst FileUpload = ({ appointmentId }) => {\r\n  const { files, addFile, deleteFile } = useData();\r\n  const [selectedFiles, setSelectedFiles] = useState([]);\r\n\r\n  const appointmentFiles = files.filter(f => f.appointmentId === appointmentId);\r\n\r\n  const handleFileChange = (e) => {\r\n    setSelectedFiles([...e.target.files]);\r\n  };\r\n\r\n  const handleUpload = () => {\r\n    selectedFiles.forEach(file => {\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        addFile(appointmentId, {\r\n          id: `f${Date.now()}`,\r\n          name: file.name,\r\n          url: e.target.result,\r\n          type: file.type\r\n        });\r\n      };\r\n      reader.readAsDataURL(file);\r\n    });\r\n    setSelectedFiles([]);\r\n  };\r\n\r\n  return (\r\n    <Box mt={3}>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Attached Files\r\n      </Typography>\r\n      \r\n      {appointmentFiles.length > 0 ? (\r\n        <List>\r\n          {appointmentFiles.map(file => (\r\n            <ListItem \r\n              key={file.id} \r\n              secondaryAction={\r\n                <IconButton edge=\"end\" onClick={() => deleteFile(file.id)}>\r\n                  <Delete />\r\n                </IconButton>\r\n              }\r\n            >\r\n              <ListItemText primary={file.name} />\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      ) : (\r\n        <Typography variant=\"body2\">No files attached</Typography>\r\n      )}\r\n\r\n      <Box mt={2} display=\"flex\" alignItems=\"center\">\r\n        <Button\r\n          variant=\"outlined\"\r\n          component=\"label\"\r\n          startIcon={<AttachFile />}\r\n          sx={{ mr: 2 }}\r\n        >\r\n          Select Files\r\n          <input\r\n            type=\"file\"\r\n            hidden\r\n            multiple\r\n            onChange={handleFileChange}\r\n          />\r\n        </Button>\r\n        \r\n        {selectedFiles.length > 0 && (\r\n          <>\r\n            <Typography variant=\"body2\" sx={{ mr: 2 }}>\r\n              {selectedFiles.length} file(s) selected\r\n            </Typography>\r\n            <Button \r\n              variant=\"contained\" \r\n              onClick={handleUpload}\r\n            >\r\n              Upload\r\n            </Button>\r\n          </>\r\n        )}\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default FileUpload;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}